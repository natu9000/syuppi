# 家計簿アプリ 要件定義（確定版）

## 1. 目的・スコープ
- 個人利用向けの **支出記録専用アプリ**
- 本アプリでは **記録のみを行い、集計・検索は外部で実施**する
- 最小構成・高い利便性を優先する

---

## 2. 対象環境
### 利用端末
- iPhone 16（Safari / ホーム画面追加での利用を想定）

### 開発・集計環境
- Windows 11

---

## 3. 記録対象
- **支出のみ**
- 通貨は **JPY 固定**

---

## 4. データ項目（CSV仕様・内部データモデル）
- CSV形式で外部出力可能
- 文字コード：**UTF-8**


| 項目名 | 概要 |
|------|------|
| id | 支出レコードの一意識別子（UUID） |
| date | 支出日（YYYY-MM-DD） |
| amount_jpy | 支出金額（正の整数） |
| category | 支出カテゴリ（単一選択） |
| tags | タグ（複数可、`;` 区切り） |
| memo | メモ（テンプレ選択＋任意追記） |
| updated_at | 最終更新日時（ISO 8601） |

---

## 5. カテゴリ・タグ運用
### カテゴリ
- 1支出につき **1カテゴリのみ選択**
- 複数カテゴリが含まれる支出でも、ユーザが代表カテゴリを選択する
- カテゴリ候補は事前定義

### タグ
- 複数選択可
- 事前に候補を用意
- 新規追加はアプリのアップデート対応とする

---

## 6. メモ入力
- 入力時間削減のため **テンプレートを用意**
- テンプレ選択後、自由追記が可能

---

## 7. 機能要件
### 必須機能
- 支出の新規登録
- 支出の編集
- 支出の削除
- 時系列順での支出一覧表示
- CSVエクスポート（全件）
- CSVエクスポート（範囲指定）

### 不要・非対象
- 収入記録
- 繰り返し取引
- アプリ内集計・検索
- カレンダー表示（時系列一覧で代替）
- クラウド同期
- バックアップ／リストア機能
- 特別なセキュリティ（認証・暗号化等）

---

## 8. データ保存
- データは **スマートフォン端末内に保存**
- 永続化方式はブラウザ標準ストレージ（IndexedDB 等）を想定

---

## 9. 非機能要件
- 操作はシンプルで入力負荷が低いこと
- 個人利用前提のため高可用性・高セキュリティは求めない
- 将来の外部集計（Excel / Python 等）に支障が出ないデータ構造とする

---

## 10. 設計上の割り切り
- カテゴリ集計精度より入力の簡便さを優先
- 端末故障・機種変更時のデータ消失リスクは許容する

